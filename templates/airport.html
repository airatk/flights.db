{% extends "base.html" %}


{% block forms %}
    <form id="airport-add" class="box" action="{{ url_for('airport.add_airport') }}" method="post">
        <input placeholder="код аэропорта" name="airport-code" type="text" required>
        <input placeholder="название" name="name" type="text" required>
        <input placeholder="город" name="city" type="text" required>
        <input placeholder="страна" name="country" type="text" required>
        <input placeholder="долгота" name="longitude" type="number" step="0.0001" required>
        <input placeholder="широта" name="latitude" type="number" step="0.0001" required>
        <input placeholder="часовой пояс" name="timezone" type="text" required>
        
        <input value="добавить аэропорт" type="submit">
    </form>
    
    <form id="airport-search" class="box" action="{{ url_for('airport.search_airport') }}" method="post">
        <input placeholder="введите код, название, город или страну аэропорта..." name="query" type="search" required>
        
        <select name="sorting">
            <option selected value="no-sort">не сортировать</option>
            
            <optgroup label="сортировать по коду аэропорта">
                <option value="airport-code-ascending">по возрастанию</option>
                <option value="airport-code-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по названию">
                <option value="name-ascending">по возрастанию</option>
                <option value="name-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по городу">
                <option value="city-ascending">по возрастанию</option>
                <option value="city-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по стране">
                <option value="country-ascending">по возрастанию</option>
                <option value="country-descending">по убыванию</option>
            </optgroup>
        </select>
        
        <input value="найти аэропорт" type="submit">
    </form>
    
    <form id="flight-add" class="box" action="{{ url_for('airport.add_flight') }}" method="post">
        <input placeholder="код рейса" name="flight-code" type="text" required>
        <input placeholder="код аэропорта отбытия" name="departure-airport" type="text" required>
        <input placeholder="код аэропорта прибытия" name="arrival-airport" type="text" required>
        <input placeholder="дата отбытия" name="departure-date" type="text" required>
        <input placeholder="дата прибытия" name="arrival-date" type="text" required>
        <input placeholder="время отбытия" name="departure-time" type="text" required>
        <input placeholder="время прибытия" name="arrival-time" type="text" required>
        <input placeholder="время в пути" name="time" type="text" required>
        <input placeholder="мили" name="miles" type="number" required>
        <input placeholder="класс" name="class" type="text" required>
        <input placeholder="номер места" name="seat-number" type="number" required>
        <input placeholder="цена" name="price" type="number" step="0.01" required>
        
        <input value="добавить рейс" type="submit">
    </form>
    
    <form id="flight-search" class="box" action="{{ url_for('airport.search_flight') }}" method="post">
        <input placeholder="введите код или дату рейса..." name="query" type="search" required>
        
        <select name="sorting">
            <option selected value="no-sort">не сортировать</option>
            
            <optgroup label="сортировать по дате отбытия">
                <option value="departure-date-ascending">по возрастанию</option>
                <option value="departure-date-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по дате прибытия">
                <option value="arrival-date-ascending">по возрастанию</option>
                <option value="arrival-date-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по классу">
                <option value="seat-class-ascending">по возрастанию</option>
                <option value="seat-class-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по цене">
                <option value="price-ascending">по возрастанию</option>
                <option value="price-descending">по убыванию</option>
            </optgroup>
        </select>
        
        <input value="найти рейс" type="submit">
    </form>
    
    <form id="flight-search-by-airport-code" class="box" action="{{ url_for('airport.search_flight_by_airport_code') }}" method="post">
        <input placeholder="введите код аэропорта..." name="query" type="search" required>
        
        <select name="sorting">
            <option selected value="no-sort">не сортировать</option>
            
            <optgroup label="сортировать по дате отбытия">
                <option value="departure-date-ascending">по возрастанию</option>
                <option value="departure-date-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по дате прибытия">
                <option value="arrival-date-ascending">по возрастанию</option>
                <option value="arrival-date-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по классу">
                <option value="seat-class-ascending">по возрастанию</option>
                <option value="seat-class-descending">по убыванию</option>
            </optgroup>
            <optgroup label="сортировать по цене">
                <option value="price-ascending">по возрастанию</option>
                <option value="price-descending">по убыванию</option>
            </optgroup>
        </select>
        
        <input value="найти рейс по коду аэропорта" type="submit">
    </form>
    
    <form id="flight-edit" class="box" action="{{ url_for('airport.edit_flight') }}" method="post">
        <input placeholder="код рейса" name="flight-code" type="text" required>
        <input placeholder="цена" name="price" type="number" step="0.01" required>
        
        <input value="изменить цену рейса" type="submit">
    </form>
{% endblock %}

{% block list %}
    {% for airport in airports %}
        <article class="box airport">
            <div class="header">
                <div class="title">Аэропорт</div>
                <a class="delete-button" onclick="return confirm('Удалить аэропорт % название %?')" href="{{ url_for('airport.delete_airport') }}">x</a>
            </div>
            
            <div class="airport-code">% код %</div>
            <div class="name">% название %</div>
            <div class="city">город: % город %</div>
            <div class="country">страна: % страна %</div>
            <div class="longitude">долгота: % долгота %</div>
            <div class="latitude">широта: % широта %</div>
            <div class="timezone">% часовой пояс %</div>
        </article>
    {% endfor %}
    
    {% for flight in flights %}
        <article class="box flight">
            <div class="header">
                <div class="title">Рейс</div>
                <a class="delete-button" onclick="return confirm('Удалить рейс % код %?')" href="{{ url_for('airport.delete_flight') }}">x</a>
            </div>
            
            <div class="flight-code">% код %</div>
            
            <div class="departure-title">отбытие</div>
            <div class="arrival-title">прибытие</div>
            
            <div class="departure-airport-code">% код аэропорта отбытия %</div>
            <div class="arrival-airport-code">% код аэропорта прибытия %</div>
            <div class="departure-date">% дата отбытия %</div>
            <div class="arrival-date">% дата прибытия %</div>
            <div class="departure-time">% время отбытия %</div>
            <div class="arrival-time">% время прибытия %</div>
            
            <div class="time">время в пути: % время в пути %</div>
            <div class="miles">мили: % мили %</div>
            
            <div class="seat-title">место</div>
            
            <div class="seat-class">% класс %</div>
            <div class="seat-number">% номер места %</div>
            
            <div class="price">% цена %</div>
        </article>
    {% endfor %}
    
    {% if not airports and not flights %}
        <span class="placeholder">% пусто %</span>
    {% endif %}
{% endblock %}
